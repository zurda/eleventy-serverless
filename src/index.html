<style>
  h1 {
    text-align: left;
  }

  .pokemons {
    display: flex;
    flex-direction: row;
    align-items: flex-end;
    justify-content: space-between;
  }

  @media screen and (max-width: 700px) {
    .pokemons {
      flex-direction: column;
      align-items: center;
    }
  }

  .pokemon {
    display: flex;
    flex-direction: column;
    max-width: 90vw;
    height: 400px;
  }

  .pokemon img {
    display: block;
    height: 200px;
  }

  .pokemon h2 {
    margin: 0.5rem 0 0;
  }

  .pokemon .team-members h4 {
    margin: 0;
  }
</style>

<h1>Feds</h1>
<div class="pokemons"></div>

<template id="pokemon-template">
  <div class="pokemon">
    <img />

    <h2></h2>

    <div class="team-members"></div>
  </div>
</template>

<script>
  async function initialize() {
    const pokemons = await fetch('/.netlify/functions/pokemons')
      .then((response) => response.json());

    const container = document.querySelector('.pokemons');
    const template = document.querySelector('#pokemon-template');

    pokemons.forEach((pokemon) => {
      const element = template.content.cloneNode(true);

      const img = element.querySelector('img');
      img.src = pokemon.image;
      img.alt = pokemon.name;

      element.querySelector('h2').innerText = pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1);;

      const teamMembers = pokemon.team_members;

      const membersEl = element.querySelector('.team-members');
      teamMembers.forEach(member => {
        const memberName = document.createElement('h4');
        memberName.innerText = member;
        membersEl.appendChild(memberName)
      })

      container.appendChild(element);
    });
  }

  initialize();
</script>