<link rel="stylesheet" href="/css/index.css">

  <h1>How many are we?</h1>

  <h2 class="how-many-container"></h2>
  <p class="number-fact"></p>

{% include loader.html %}

<div class="pokemons"></div>

<script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<script>
  async function initialize() {
    const triviaData = await fetch('/.netlify/functions/number-trivia')
      .then((response) => response.json());

    const container = document.querySelector(".how-many-container");
    const count = triviaData.count
    container.innerText = `We are ${count}`

    const loader = document.querySelector('div.loader');
    loader.style.display = 'none';

    const number_container = document.querySelector(".number-fact");
    number_container.innerText = triviaData.trivia;
  }

  initialize();
</script>